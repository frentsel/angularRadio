webpackJsonp([1],{CiM5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("WT6e"),o=n("bfOx"),l=n("Km6A"),r=(n("ZLYU"),this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,l){function r(t){try{s(i.next(t))}catch(t){l(t)}}function a(t){try{s(i.throw(t))}catch(t){l(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(r,a)}s((i=i.apply(t,e||[])).next())})}),a=this&&this.__generator||function(t,e){var n,i,o,l,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(l){return function(a){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=i[2&l[0]?"return":l[0]?"throw":"next"])&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[0,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){r=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(6===l[0]&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(t){l=[6,t],i=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,a])}}},s=function(){function t(t,e,n){this.lightbox=t,this.route=e,this.http=n,this.photos=[],this.uri="http://localhost:80/lastfm.php"}return t.prototype.loadData=function(t){var e=t.artist;return r(this,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return this.artist=e,[4,this.http.getJSON(this.uri,{artist:this.artist,method:"getArtistImages"})];case 1:return t=n.sent(),this.buildListPhoto(t),[2]}})})},t.prototype.open=function(t){this.lightbox.open(this.photos,t)},t.prototype.buildListPhoto=function(t){var e=this;this.photos=t.map(function(t){return{src:t.replace("avatar170s","770x0"),caption:e.artist,thumb:t}})},t.prototype.ngOnInit=function(){this.route.parent.params.subscribe(this.loadData.bind(this))},t}(),u=function(){},h=n("m5rG"),d=n("kn/2"),c=n("OE0E"),m=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function p(t){return i["\u0275vid"](0,[],null,null)}var f=i["\u0275ccf"]("[lb-overlay]",h.LightboxOverlayComponent,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["lb-overlay",""]],[[8,"className",0]],[[null,"click"],["window","resize"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==i["\u0275nov"](t,1).close()&&o),"window:resize"===e&&(o=!1!==i["\u0275nov"](t,1).onResize()&&o),o},p,m)),i["\u0275did"](1,4374528,null,0,h.LightboxOverlayComponent,[i.ElementRef,i.Renderer,d.LightboxEvent,c.DOCUMENT],null,null)],null,function(t,e){t(e,0,0,i["\u0275nov"](e,1)._classList)})},{options:"options",cmpRef:"cmpRef"},{},[]),g=n("Nb4t"),b=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function _(t){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{_outerContainerElem:0}),i["\u0275qud"](402653184,2,{_containerElem:0}),i["\u0275qud"](402653184,3,{_leftArrowElem:0}),i["\u0275qud"](402653184,4,{_rightArrowElem:0}),i["\u0275qud"](402653184,5,{_navArrowElem:0}),i["\u0275qud"](402653184,6,{_dataContainerElem:0}),i["\u0275qud"](402653184,7,{_imageElem:0}),i["\u0275qud"](402653184,8,{_captionElem:0}),i["\u0275qud"](402653184,9,{_numberElem:0}),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](10,0,[[1,0],["outerContainer",1]],null,18,"div",[["class","lb-outerContainer transition"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](12,0,[[2,0],["container",1]],null,15,"div",[["class","lb-container"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](14,0,[[7,0],["image",1]],null,0,"img",[["class","lb-image animation fadeIn"]],[[8,"src",4],[8,"hidden",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](16,0,[[5,0],["navArrow",1]],null,5,"div",[["class","lb-nav"]],[[8,"hidden",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](18,0,[[3,0],["leftArrow",1]],null,0,"a",[["class","lb-prev"]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.prevImage()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](20,0,[[4,0],["rightArrow",1]],null,0,"a",[["class","lb-next"]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.nextImage()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](23,0,null,null,3,"div",[["class","lb-loader"]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.close(n)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](25,0,null,null,0,"a",[["class","lb-cancel"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](30,0,[[6,0],["dataContainer",1]],null,18,"div",[["class","lb-dataContainer"]],[[8,"hidden",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](32,0,null,null,15,"div",[["class","lb-data"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](34,0,null,null,7,"div",[["class","lb-details"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](36,0,[[8,0],["caption",1]],null,1,"span",[["class","lb-caption animation fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(t()(),i["\u0275ted"](37,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](39,0,[[9,0],["number",1]],null,1,"span",[["class","lb-number animation fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(t()(),i["\u0275ted"](40,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](43,0,null,null,3,"div",[["class","lb-closeContainer"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](45,0,null,null,0,"a",[["class","lb-close"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.close(n)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "]))],null,function(t,e){var n=e.component;t(e,14,0,n.album[n.currentImageIndex].src,n.ui.showReloader),t(e,16,0,!n.ui.showArrowNav),t(e,18,0,!n.ui.showLeftArrow),t(e,20,0,!n.ui.showRightArrow),t(e,23,0,!n.ui.showReloader),t(e,30,0,n.ui.showReloader),t(e,36,0,!n.ui.showCaption),t(e,37,0,n.album[n.currentImageIndex].caption),t(e,39,0,!n.ui.showPageNumber),t(e,40,0,n.content.pageNumber)})}var v=i["\u0275ccf"]("[lb-content]",g.LightboxComponent,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["lb-content",""]],[[8,"className",0]],[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==i["\u0275nov"](t,1).close(n)&&o),o},_,b)),i["\u0275did"](1,4374528,null,0,g.LightboxComponent,[i.ElementRef,i.Renderer,d.LightboxEvent,i.ElementRef,d.LightboxWindowRef,c.DomSanitizer,c.DOCUMENT],null,null)],null,function(t,e){t(e,0,0,i["\u0275nov"](e,1).ui.classList)})},{album:"album",currentImageIndex:"currentImageIndex",options:"options",cmpRef:"cmpRef"},{},[]),E=n("Xjw4"),y=n("7vIb"),w=n("F2YG"),x=n("Jgsr"),R=i["\u0275crt"]({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{font-size:20px;color:#358}.wrapper[_ngcontent-%COMP%]{margin:15px 0;clear:both}.wrapper[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.photos[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}.item[_ngcontent-%COMP%]{-ms-flex-preferred-size:20%;flex-basis:20%;border-right:1px solid #fff;border-bottom:1px solid #fff;display:-webkit-box;display:-ms-flexbox;display:flex;min-width:140px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:auto;float:left}"]],data:{}});function I(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),i["\u0275eld"](2,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),i["\u0275eld"](4,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.open(t.context.index)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),i["\u0275ted"](-1,null,["\n\t\t\t"]))],null,function(t,e){t(e,4,0,e.context.$implicit.thumb,i["\u0275inlineInterpolate"](2,"",e.context.$implicit.caption," photo ",e.context.index,""))})}function C(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,16,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\t"])),(t()(),i["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["Photos of ",""])),(t()(),i["\u0275ted"](-1,null,["\n\t"])),(t()(),i["\u0275eld"](5,0,null,null,7,"div",[["class","wrapper"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\t\t"])),(t()(),i["\u0275eld"](7,0,null,null,4,"div",[["class","photos"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\t\t\t"])),(t()(),i["\u0275and"](16777216,null,null,1,null,I)),i["\u0275did"](10,802816,null,0,E.i,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\t\t"])),(t()(),i["\u0275ted"](-1,null,["\n\t"])),(t()(),i["\u0275ted"](-1,null,["\n\t"])),(t()(),i["\u0275eld"](14,0,null,null,1,"app-comments",[],null,null,null,y.b,y.a)),i["\u0275did"](15,638976,null,0,w.a,[],null,null),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,10,0,e.component.photos),t(e,15,0)},function(t,e){t(e,3,0,e.component.artist)})}function L(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](16777216,null,null,1,null,C)),i["\u0275did"](1,16384,null,0,E.j,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,null==n.photos?null:n.photos.length)},null)}var O=i["\u0275ccf"]("ng-component",s,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,L,R)),i["\u0275did"](1,114688,null,0,s,[x.Lightbox,o.a,l.a],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),T=n("ifBX"),N=n("NOoU"),A=n("YUWR"),S=n("fFl2");n.d(e,"PhotosModuleNgFactory",function(){return V});var V=i["\u0275cmf"](u,[],function(t){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[f,v,O]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,E.l,E.k,[i.LOCALE_ID,[2,E.q]]),i["\u0275mpd"](4608,T.LightboxConfig,T.LightboxConfig,[]),i["\u0275mpd"](4608,d.LightboxEvent,d.LightboxEvent,[]),i["\u0275mpd"](4608,x.Lightbox,x.Lightbox,[i.ComponentFactoryResolver,i.Injector,i.ApplicationRef,T.LightboxConfig,d.LightboxEvent,c.DOCUMENT]),i["\u0275mpd"](4608,d.LightboxWindowRef,d.LightboxWindowRef,[]),i["\u0275mpd"](4608,l.a,l.a,[N.d]),i["\u0275mpd"](512,E.b,E.b,[]),i["\u0275mpd"](512,A.LightboxModule,A.LightboxModule,[]),i["\u0275mpd"](512,o.n,o.n,[[2,o.s],[2,o.k]]),i["\u0275mpd"](512,S.a,S.a,[]),i["\u0275mpd"](512,u,u,[]),i["\u0275mpd"](1024,o.i,function(){return[[{path:"**",component:s}]]},[])])})},Jgsr:function(t,e,n){"use strict";var i=n("TToO").__decorate,o=n("TToO").__param,l=n("WT6e"),r=n("OE0E"),a=n("Nb4t"),s=(n("ifBX"),n("kn/2")),u=n("m5rG"),h=function(){function t(t,e,n,i,o,l){this._componentFactoryResolver=t,this._injector=e,this._applicationRef=n,this._lightboxConfig=i,this._lightboxEvent=o,this._documentRef=l}return t.prototype.open=function(t,e,n){var i=this;void 0===e&&(e=0),void 0===n&&(n={});var o=this._createComponent(u.LightboxOverlayComponent),l=this._createComponent(a.LightboxComponent),r={};this._lightboxEvent.broadcastLightboxEvent(s.LIGHTBOX_EVENT.OPEN),Object.assign(r,this._lightboxConfig,n),l.instance.album=t,l.instance.currentImageIndex=e,l.instance.options=r,l.instance.cmpRef=l,o.instance.options=r,o.instance.cmpRef=o,setTimeout(function(){i._applicationRef.attachView(o.hostView),i._applicationRef.attachView(l.hostView),o.onDestroy(function(){i._applicationRef.detachView(o.hostView)}),l.onDestroy(function(){i._applicationRef.detachView(l.hostView)}),i._documentRef.querySelector("body").appendChild(o.location.nativeElement),i._documentRef.querySelector("body").appendChild(l.location.nativeElement)})},t.prototype._createComponent=function(t){return this._componentFactoryResolver.resolveComponentFactory(t).create(this._injector)},t}();h=i([l.Injectable(),o(5,l.Inject(r.DOCUMENT))],h),e.Lightbox=h},Nb4t:function(t,e,n){"use strict";var i=n("TToO").__decorate,o=n("TToO").__metadata,l=n("TToO").__param,r=n("WT6e"),a=n("OE0E"),s=n("kn/2"),u=function(){function t(t,e,n,i,o,l,r){var a=this;this._elemRef=t,this._rendererRef=e,this._lightboxEvent=n,this._lightboxElem=i,this._lightboxWindowRef=o,this._sanitizer=l,this._documentRef=r,this.options=this.options||{},this.album=this.album||[],this.currentImageIndex=this.currentImageIndex||0,this._windowRef=this._lightboxWindowRef.nativeWindow,this.ui={showReloader:!0,showLeftArrow:!1,showRightArrow:!1,showArrowNav:!1,showPageNumber:!1,showCaption:!1,classList:"lightbox animation fadeIn"},this.content={pageNumber:""},this._event={},this._lightboxElem=this._elemRef,this._event.subscription=this._lightboxEvent.lightboxEvent$.subscribe(function(t){return a._onReceivedEvent(t)})}return t.prototype.ngAfterViewInit=function(){this._cssValue={containerTopPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-top")),containerRightPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-right")),containerBottomPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-bottom")),containerLeftPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-left")),imageBorderWidthTop:Math.round(this._getCssStyleValue(this._imageElem,"border-top-width")),imageBorderWidthBottom:Math.round(this._getCssStyleValue(this._imageElem,"border-bottom-width")),imageBorderWidthLeft:Math.round(this._getCssStyleValue(this._imageElem,"border-left-width")),imageBorderWidthRight:Math.round(this._getCssStyleValue(this._imageElem,"border-right-width"))},this._validateInputData()&&(this._prepareComponent(),this._registerImageLoadingEvent())},t.prototype.ngOnDestroy=function(){this.options.disableKeyboardNav||this._disableKeyboardNav(),this._event.subscription.unsubscribe()},t.prototype.close=function(t){t.stopPropagation(),(t.target.classList.contains("lightbox")||t.target.classList.contains("lb-loader")||t.target.classList.contains("lb-close"))&&this._lightboxEvent.broadcastLightboxEvent({id:s.LIGHTBOX_EVENT.CLOSE,data:null})},t.prototype.nextImage=function(){1!==this.album.length&&this._changeImage(this.currentImageIndex===this.album.length-1?0:this.currentImageIndex+1)},t.prototype.prevImage=function(){1!==this.album.length&&this._changeImage(0===this.currentImageIndex&&this.album.length>1?this.album.length-1:this.currentImageIndex-1)},t.prototype._validateInputData=function(){if(!(this.album&&this.album instanceof Array&&this.album.length>0))throw new Error("No album data or album data is not correct in type");for(var t=0;t<this.album.length;t++)if(!this.album[t].src)throw new Error("One of the album data does not have source data");if(isNaN(this.currentImageIndex))throw new Error("Current image index is not a number");return this.currentImageIndex=Number(this.currentImageIndex),!0},t.prototype._registerImageLoadingEvent=function(){var t=this,e=new Image;e.onload=function(){t._onLoadImageSuccess()},e.src=this._sanitizer.sanitize(r.SecurityContext.URL,this.album[this.currentImageIndex].src)},t.prototype._onLoadImageSuccess=function(){var t,e,n,i,o,l;this.options.disableKeyboardNav||this._disableKeyboardNav(),e=o=this._imageElem.nativeElement.naturalWidth,t=l=this._imageElem.nativeElement.naturalHeight,this.options.fitImageInViewPort&&(n=this._windowRef.innerHeight-this._cssValue.containerTopPadding-this._cssValue.containerTopPadding-this._cssValue.imageBorderWidthTop-this._cssValue.imageBorderWidthBottom-120,(o>(i=this._windowRef.innerWidth-this._cssValue.containerLeftPadding-this._cssValue.containerRightPadding-this._cssValue.imageBorderWidthLeft-this._cssValue.imageBorderWidthRight-20)||l>n)&&(o/i>l/n?(e=i,t=Math.round(l/(o/e))):(t=n,e=Math.round(o/(l/t)))),this._rendererRef.setElementStyle(this._imageElem.nativeElement,"width",e+"px"),this._rendererRef.setElementStyle(this._imageElem.nativeElement,"height",t+"px")),this._sizeContainer(e,t),this.options.centerVertically&&this._centerVertically(e,t)},t.prototype._centerVertically=function(t,e){this._rendererRef.setElementStyle(this._lightboxElem.nativeElement,"top",this._documentRef.documentElement.scrollTop+(this._windowRef.innerHeight/2-e/2)+"px")},t.prototype._sizeContainer=function(t,e){var n=this,i=t+this._cssValue.containerRightPadding+this._cssValue.containerLeftPadding+this._cssValue.imageBorderWidthLeft+this._cssValue.imageBorderWidthRight,o=e+this._cssValue.containerTopPadding+this._cssValue.containerBottomPadding+this._cssValue.imageBorderWidthTop+this._cssValue.imageBorderWidthBottom;this._outerContainerElem.nativeElement.offsetWidth!==i||this._outerContainerElem.nativeElement.offsetHeight!==o?(this._rendererRef.setElementStyle(this._outerContainerElem.nativeElement,"width",i+"px"),this._rendererRef.setElementStyle(this._outerContainerElem.nativeElement,"height",o+"px"),this._event.transitions=[],["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd"].forEach(function(t){n._event.transitions.push(n._rendererRef.listen(n._outerContainerElem.nativeElement,t,function(t){t.target===t.currentTarget&&n._postResize(i,o)}))})):this._postResize(i,o)},t.prototype._postResize=function(t,e){Array.isArray(this._event.transitions)&&(this._event.transitions.forEach(function(t){t()}),this._event.transitions=[]),this._rendererRef.setElementStyle(this._dataContainerElem.nativeElement,"width",t+"px"),this._showImage()},t.prototype._showImage=function(){this.ui.showReloader=!1,this._updateNav(),this._updateDetails(),this.options.disableKeyboardNav||this._enableKeyboardNav()},t.prototype._prepareComponent=function(){this._addCssAnimation(),this._positionLightBox()},t.prototype._positionLightBox=function(){var t=this._windowRef.pageXOffset||this._documentRef.documentElement.scrollLeft;this.options.centerVertically||this._rendererRef.setElementStyle(this._lightboxElem.nativeElement,"top",(this._windowRef.pageYOffset||this._documentRef.documentElement.scrollTop)+this.options.positionFromTop+"px"),this._rendererRef.setElementStyle(this._lightboxElem.nativeElement,"left",t+"px"),this._rendererRef.setElementStyle(this._lightboxElem.nativeElement,"display","block"),this.options.disableScrolling&&this._rendererRef.setElementClass(this._documentRef.body,"lb-disable-scrolling",!0)},t.prototype._addCssAnimation=function(){var t=this.options.resizeDuration,e=this.options.fadeDuration;this._rendererRef.setElementStyle(this._lightboxElem.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setElementStyle(this._lightboxElem.nativeElement,"animation-duration",e+"s"),this._rendererRef.setElementStyle(this._outerContainerElem.nativeElement,"-webkit-transition-duration",t+"s"),this._rendererRef.setElementStyle(this._outerContainerElem.nativeElement,"transition-duration",t+"s"),this._rendererRef.setElementStyle(this._dataContainerElem.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setElementStyle(this._dataContainerElem.nativeElement,"animation-duration",e+"s"),this._rendererRef.setElementStyle(this._imageElem.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setElementStyle(this._imageElem.nativeElement,"animation-duration",e+"s"),this._rendererRef.setElementStyle(this._captionElem.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setElementStyle(this._captionElem.nativeElement,"animation-duration",e+"s"),this._rendererRef.setElementStyle(this._numberElem.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setElementStyle(this._numberElem.nativeElement,"animation-duration",e+"s")},t.prototype._end=function(){var t=this;this.ui.classList="lightbox animation fadeOut",this.options.disableScrolling&&this._rendererRef.setElementClass(this._documentRef.body,"lb-disable-scrolling",!1),setTimeout(function(){t.cmpRef.destroy()},1e3*this.options.fadeDuration)},t.prototype._updateDetails=function(){"undefined"!=typeof this.album[this.currentImageIndex].caption&&""!==this.album[this.currentImageIndex].caption&&(this.ui.showCaption=!0),this.album.length>1&&this.options.showImageNumberLabel&&(this.ui.showPageNumber=!0,this.content.pageNumber=this._albumLabel())},t.prototype._albumLabel=function(){return"Image "+Number(this.currentImageIndex+1)+" of "+this.album.length},t.prototype._changeImage=function(t){this.currentImageIndex=t,this._hideImage(),this._registerImageLoadingEvent(),this._lightboxEvent.broadcastLightboxEvent({id:s.LIGHTBOX_EVENT.CHANGE_PAGE,data:t})},t.prototype._hideImage=function(){this.ui.showReloader=!0,this.ui.showArrowNav=!1,this.ui.showLeftArrow=!1,this.ui.showRightArrow=!1,this.ui.showPageNumber=!1,this.ui.showCaption=!1},t.prototype._updateNav=function(){var t=!1;try{this._documentRef.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this._showArrowNav(),this.album.length>1&&(this.options.wrapAround?(t&&(this._rendererRef.setElementStyle(this._leftArrowElem.nativeElement,"opacity","1"),this._rendererRef.setElementStyle(this._rightArrowElem.nativeElement,"opacity","1")),this._showLeftArrowNav(),this._showRightArrowNav()):(this.currentImageIndex>0&&(this._showLeftArrowNav(),t&&this._rendererRef.setElementStyle(this._leftArrowElem.nativeElement,"opacity","1")),this.currentImageIndex<this.album.length-1&&(this._showRightArrowNav(),t&&this._rendererRef.setElementStyle(this._rightArrowElem.nativeElement,"opacity","1"))))},t.prototype._showLeftArrowNav=function(){this.ui.showLeftArrow=!0},t.prototype._showRightArrowNav=function(){this.ui.showRightArrow=!0},t.prototype._showArrowNav=function(){this.ui.showArrowNav=1!==this.album.length},t.prototype._enableKeyboardNav=function(){var t=this;this._event.keyup=this._rendererRef.listenGlobal("document","keyup",function(e){t._keyboardAction(e)})},t.prototype._disableKeyboardNav=function(){this._event.keyup&&this._event.keyup()},t.prototype._keyboardAction=function(t){var e=t.keyCode,n=String.fromCharCode(e).toLowerCase();27===e||n.match(/x|o|c/)?this._lightboxEvent.broadcastLightboxEvent({id:s.LIGHTBOX_EVENT.CLOSE,data:null}):"p"===n||37===e?0!==this.currentImageIndex?this._changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this._changeImage(this.album.length-1):"n"!==n&&39!==e||(this.currentImageIndex!==this.album.length-1?this._changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this._changeImage(0))},t.prototype._getCssStyleValue=function(t,e){return parseFloat(this._windowRef.getComputedStyle(t.nativeElement,null).getPropertyValue(e))},t.prototype._onReceivedEvent=function(t){switch(t.id){case s.LIGHTBOX_EVENT.CLOSE:this._end()}},t}();i([r.Input(),o("design:type",Array)],u.prototype,"album",void 0),i([r.Input(),o("design:type",Number)],u.prototype,"currentImageIndex",void 0),i([r.Input(),o("design:type",Object)],u.prototype,"options",void 0),i([r.Input(),o("design:type",Object)],u.prototype,"cmpRef",void 0),i([r.ViewChild("outerContainer"),o("design:type",r.ElementRef)],u.prototype,"_outerContainerElem",void 0),i([r.ViewChild("container"),o("design:type",r.ElementRef)],u.prototype,"_containerElem",void 0),i([r.ViewChild("leftArrow"),o("design:type",r.ElementRef)],u.prototype,"_leftArrowElem",void 0),i([r.ViewChild("rightArrow"),o("design:type",r.ElementRef)],u.prototype,"_rightArrowElem",void 0),i([r.ViewChild("navArrow"),o("design:type",r.ElementRef)],u.prototype,"_navArrowElem",void 0),i([r.ViewChild("dataContainer"),o("design:type",r.ElementRef)],u.prototype,"_dataContainerElem",void 0),i([r.ViewChild("image"),o("design:type",r.ElementRef)],u.prototype,"_imageElem",void 0),i([r.ViewChild("caption"),o("design:type",r.ElementRef)],u.prototype,"_captionElem",void 0),i([r.ViewChild("number"),o("design:type",r.ElementRef)],u.prototype,"_numberElem",void 0),u=i([r.Component({template:'\n    <div class="lb-outerContainer transition" #outerContainer>\n      <div class="lb-container" #container>\n        <img class="lb-image" [src]="album[currentImageIndex].src" class="lb-image animation fadeIn" [hidden]="ui.showReloader" #image>\n        <div class="lb-nav" [hidden]="!ui.showArrowNav" #navArrow>\n          <a class="lb-prev" [hidden]="!ui.showLeftArrow" (click)="prevImage()" #leftArrow></a>\n          <a class="lb-next"[hidden]="!ui.showRightArrow" (click)="nextImage()" #rightArrow></a>\n        </div>\n        <div class="lb-loader" [hidden]="!ui.showReloader" (click)="close($event)">\n          <a class="lb-cancel"></a>\n        </div>\n      </div>\n    </div>\n    <div class="lb-dataContainer" [hidden]="ui.showReloader" #dataContainer>\n      <div class="lb-data">\n        <div class="lb-details">\n          <span class="lb-caption animation fadeIn" [hidden]="!ui.showCaption" #caption>{{ album[currentImageIndex].caption }}</span>\n          <span class="lb-number animation fadeIn" [hidden]="!ui.showPageNumber" #number>{{ content.pageNumber }}</span>\n        </div>\n        <div class="lb-closeContainer">\n          <a class="lb-close" (click)="close($event)"></a>\n        </div>\n      </div>\n    </div>',selector:"[lb-content]",host:{"(click)":"close($event)","[class]":"ui.classList"}}),l(6,r.Inject(a.DOCUMENT))],u),e.LightboxComponent=u},YUWR:function(t,e,n){"use strict";var i=n("TToO").__decorate,o=n("Jgsr"),l=n("Nb4t"),r=n("ifBX"),a=n("kn/2"),s=n("m5rG"),u=function(){};u=i([n("WT6e").NgModule({declarations:[s.LightboxOverlayComponent,l.LightboxComponent],providers:[o.Lightbox,r.LightboxConfig,a.LightboxEvent,a.LightboxWindowRef],entryComponents:[s.LightboxOverlayComponent,l.LightboxComponent]})],u),e.LightboxModule=u},ZLYU:function(t,e,n){"use strict";var i=n("Jgsr");e.Lightbox=i.Lightbox;var o=n("ifBX");e.LightboxConfig=o.LightboxConfig;var l=n("kn/2");e.LightboxEvent=l.LightboxEvent,e.LIGHTBOX_EVENT=l.LIGHTBOX_EVENT;var r=n("YUWR");e.LightboxModule=r.LightboxModule},ifBX:function(t,e,n){"use strict";var i=function(){this.fadeDuration=.7,this.resizeDuration=.5,this.fitImageInViewPort=!0,this.positionFromTop=20,this.showImageNumberLabel=!1,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!1,this.disableKeyboardNav=!1,this.disableScrolling=!1,this.centerVertically=!1};i=(0,n("TToO").__decorate)([n("WT6e").Injectable()],i),e.LightboxConfig=i},"kn/2":function(t,e,n){"use strict";var i=n("TToO").__decorate,o=n("WT6e"),l=n("g5jc");!function(t){t[t.CHANGE_PAGE=1]="CHANGE_PAGE",t[t.CLOSE=2]="CLOSE",t[t.OPEN=3]="OPEN"}(e.LIGHTBOX_EVENT||(e.LIGHTBOX_EVENT={}));var r=function(){function t(){this._lightboxEventSource=new l.Subject,this.lightboxEvent$=this._lightboxEventSource.asObservable()}return t.prototype.broadcastLightboxEvent=function(t){this._lightboxEventSource.next(t)},t}();r=i([o.Injectable()],r),e.LightboxEvent=r;var a=function(){function t(){}return Object.defineProperty(t.prototype,"nativeWindow",{get:function(){return window},enumerable:!0,configurable:!0}),t}();a=i([o.Injectable()],a),e.LightboxWindowRef=a},m5rG:function(t,e,n){"use strict";var i=n("TToO").__decorate,o=n("TToO").__metadata,l=n("TToO").__param,r=n("WT6e"),a=n("OE0E"),s=n("kn/2"),u=function(){function t(t,e,n,i){var o=this;this._elemRef=t,this._rendererRef=e,this._lightboxEvent=n,this._documentRef=i,this._classList="lightboxOverlay animation fadeInOverlay",this._subscription=this._lightboxEvent.lightboxEvent$.subscribe(function(t){return o._onReceivedEvent(t)})}return t.prototype.ngAfterViewInit=function(){var t=this.options.fadeDuration;this._rendererRef.setElementStyle(this._elemRef.nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setElementStyle(this._elemRef.nativeElement,"animation-duration",t+"s"),this._sizeOverlay()},t.prototype.close=function(){this._lightboxEvent.broadcastLightboxEvent({id:s.LIGHTBOX_EVENT.CLOSE,data:null})},t.prototype.onResize=function(){this._sizeOverlay()},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.prototype._sizeOverlay=function(){var t=this._getOverlayWidth(),e=this._getOverlayHeight();this._rendererRef.setElementStyle(this._elemRef.nativeElement,"width",t+"px"),this._rendererRef.setElementStyle(this._elemRef.nativeElement,"height",e+"px")},t.prototype._onReceivedEvent=function(t){switch(t.id){case s.LIGHTBOX_EVENT.CLOSE:this._end()}},t.prototype._end=function(){var t=this;this._classList="lightboxOverlay animation fadeOutOverlay",setTimeout(function(){t.cmpRef.destroy()},1e3*this.options.fadeDuration)},t.prototype._getOverlayWidth=function(){return Math.max(this._documentRef.body.scrollWidth,this._documentRef.body.offsetWidth,this._documentRef.documentElement.clientWidth,this._documentRef.documentElement.scrollWidth,this._documentRef.documentElement.offsetWidth)},t.prototype._getOverlayHeight=function(){return Math.max(this._documentRef.body.scrollHeight,this._documentRef.body.offsetHeight,this._documentRef.documentElement.clientHeight,this._documentRef.documentElement.scrollHeight,this._documentRef.documentElement.offsetHeight)},t}();i([r.Input(),o("design:type",Object)],u.prototype,"options",void 0),i([r.Input(),o("design:type",Object)],u.prototype,"cmpRef",void 0),i([r.HostListener("window:resize"),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"onResize",null),u=i([r.Component({selector:"[lb-overlay]",template:"",host:{"(click)":"close()","[class]":"_classList"}}),l(3,r.Inject(a.DOCUMENT))],u),e.LightboxOverlayComponent=u}});